{
  "version": 3,
  "names": [
    "useControl",
    "props",
    "usePortal",
    "container",
    "Portal",
    "useState",
    "control",
    "setControl",
    "offset",
    "anchor",
    "useMapContext",
    "map",
    "useEffect",
    "Control",
    "getControl",
    "instance",
    "addOverlay",
    "removeControl",
    "useVisiable",
    "useProperties",
    "ControlPortal"
  ],
  "sources": [
    "../src/useControl.tsx"
  ],
  "sourcesContent": [
    "import { useState, useEffect } from 'react';\nimport { useMapContext } from '@uiw/react-baidu-map-map';\nimport { useProperties, useVisiable, usePortal } from '@uiw/react-baidu-map-utils';\nimport getControl from './getControl';\nimport { ControlProps } from './';\n\nexport interface UseControl extends ControlProps {}\n\nexport function useControl(props = {} as UseControl) {\n  const { container, Portal } = usePortal();\n  const [control, setControl] = useState<BMap.Control>();\n  const { offset, anchor } = props;\n  const { map } = useMapContext();\n\n  useEffect(() => {\n    if (map && !control && container) {\n      const Control = getControl();\n      const instance = new Control(container, anchor, offset);\n      setControl(instance);\n      map.addOverlay(instance);\n    }\n    return () => {\n      if (map && control) {\n        map.removeControl(control);\n      }\n    };\n  }, [map, control, anchor, offset, container]);\n\n  useVisiable(control!, props);\n  useProperties<BMap.Control, UseControl>(control!, props, ['Anchor', 'Offset']);\n  return {\n    control,\n    ControlPortal: Portal,\n    setControl,\n  };\n}\n"
  ],
  "mappings": ";;;;;;;;AAAA;AACA;AACA;AACA;AAKO,SAASA,UAAU,GAA2B;EAAA,IAA1BC,KAAK,uEAAG,CAAC,CAAC;EACnC,iBAA8B,IAAAC,6BAAS,GAAE;IAAjCC,SAAS,cAATA,SAAS;IAAEC,MAAM,cAANA,MAAM;EACzB,gBAA8B,IAAAC,eAAQ,GAAgB;IAAA;IAA/CC,OAAO;IAAEC,UAAU;EAC1B,IAAQC,MAAM,GAAaP,KAAK,CAAxBO,MAAM;IAAEC,MAAM,GAAKR,KAAK,CAAhBQ,MAAM;EACtB,qBAAgB,IAAAC,+BAAa,GAAE;IAAvBC,GAAG,kBAAHA,GAAG;EAEX,IAAAC,gBAAS,EAAC,YAAM;IACd,IAAID,GAAG,IAAI,CAACL,OAAO,IAAIH,SAAS,EAAE;MAChC,IAAMU,QAAO,GAAG,IAAAC,mBAAU,GAAE;MAC5B,IAAMC,QAAQ,GAAG,IAAIF,QAAO,CAACV,SAAS,EAAEM,MAAM,EAAED,MAAM,CAAC;MACvDD,UAAU,CAACQ,QAAQ,CAAC;MACpBJ,GAAG,CAACK,UAAU,CAACD,QAAQ,CAAC;IAC1B;IACA,OAAO,YAAM;MACX,IAAIJ,GAAG,IAAIL,OAAO,EAAE;QAClBK,GAAG,CAACM,aAAa,CAACX,OAAO,CAAC;MAC5B;IACF,CAAC;EACH,CAAC,EAAE,CAACK,GAAG,EAAEL,OAAO,EAAEG,MAAM,EAAED,MAAM,EAAEL,SAAS,CAAC,CAAC;EAE7C,IAAAe,+BAAW,EAACZ,OAAO,EAAGL,KAAK,CAAC;EAC5B,IAAAkB,iCAAa,EAA2Bb,OAAO,EAAGL,KAAK,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;EAC9E,OAAO;IACLK,OAAO,EAAPA,OAAO;IACPc,aAAa,EAAEhB,MAAM;IACrBG,UAAU,EAAVA;EACF,CAAC;AACH"
}