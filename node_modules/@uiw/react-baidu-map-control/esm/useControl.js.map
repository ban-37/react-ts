{
  "version": 3,
  "names": [
    "useState",
    "useEffect",
    "useMapContext",
    "useProperties",
    "useVisiable",
    "usePortal",
    "getControl",
    "useControl",
    "props",
    "container",
    "Portal",
    "control",
    "setControl",
    "offset",
    "anchor",
    "map",
    "Control",
    "instance",
    "addOverlay",
    "removeControl",
    "ControlPortal"
  ],
  "sources": [
    "../src/useControl.tsx"
  ],
  "sourcesContent": [
    "import { useState, useEffect } from 'react';\nimport { useMapContext } from '@uiw/react-baidu-map-map';\nimport { useProperties, useVisiable, usePortal } from '@uiw/react-baidu-map-utils';\nimport getControl from './getControl';\nimport { ControlProps } from './';\n\nexport interface UseControl extends ControlProps {}\n\nexport function useControl(props = {} as UseControl) {\n  const { container, Portal } = usePortal();\n  const [control, setControl] = useState<BMap.Control>();\n  const { offset, anchor } = props;\n  const { map } = useMapContext();\n\n  useEffect(() => {\n    if (map && !control && container) {\n      const Control = getControl();\n      const instance = new Control(container, anchor, offset);\n      setControl(instance);\n      map.addOverlay(instance);\n    }\n    return () => {\n      if (map && control) {\n        map.removeControl(control);\n      }\n    };\n  }, [map, control, anchor, offset, container]);\n\n  useVisiable(control!, props);\n  useProperties<BMap.Control, UseControl>(control!, props, ['Anchor', 'Offset']);\n  return {\n    control,\n    ControlPortal: Portal,\n    setControl,\n  };\n}\n"
  ],
  "mappings": "AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,aAAa,QAAQ,0BAA0B;AACxD,SAASC,aAAa,EAAEC,WAAW,EAAEC,SAAS,QAAQ,4BAA4B;AAClF,OAAOC,UAAU,MAAM,cAAc;AAKrC,OAAO,SAASC,UAAU,CAACC,KAAK,EAAqB;EAAA,IAA1BA,KAAK;IAALA,KAAK,GAAG,CAAC,CAAC;EAAA;EACnC,IAAM;IAAEC,SAAS;IAAEC;EAAO,CAAC,GAAGL,SAAS,EAAE;EACzC,IAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,EAAgB;EACtD,IAAM;IAAEa,MAAM;IAAEC;EAAO,CAAC,GAAGN,KAAK;EAChC,IAAM;IAAEO;EAAI,CAAC,GAAGb,aAAa,EAAE;EAE/BD,SAAS,CAAC,MAAM;IACd,IAAIc,GAAG,IAAI,CAACJ,OAAO,IAAIF,SAAS,EAAE;MAChC,IAAMO,QAAO,GAAGV,UAAU,EAAE;MAC5B,IAAMW,QAAQ,GAAG,IAAID,QAAO,CAACP,SAAS,EAAEK,MAAM,EAAED,MAAM,CAAC;MACvDD,UAAU,CAACK,QAAQ,CAAC;MACpBF,GAAG,CAACG,UAAU,CAACD,QAAQ,CAAC;IAC1B;IACA,OAAO,MAAM;MACX,IAAIF,GAAG,IAAIJ,OAAO,EAAE;QAClBI,GAAG,CAACI,aAAa,CAACR,OAAO,CAAC;MAC5B;IACF,CAAC;EACH,CAAC,EAAE,CAACI,GAAG,EAAEJ,OAAO,EAAEG,MAAM,EAAED,MAAM,EAAEJ,SAAS,CAAC,CAAC;EAE7CL,WAAW,CAACO,OAAO,EAAGH,KAAK,CAAC;EAC5BL,aAAa,CAA2BQ,OAAO,EAAGH,KAAK,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;EAC9E,OAAO;IACLG,OAAO;IACPS,aAAa,EAAEV,MAAM;IACrBE;EACF,CAAC;AACH"
}