{
  "version": 3,
  "names": [
    "useInfoWindow",
    "props",
    "position",
    "opts",
    "usePortal",
    "container",
    "Portal",
    "title",
    "PortalTitle",
    "useMapContext",
    "map",
    "useState",
    "infoWindow",
    "setInfoWindow",
    "useMemo",
    "win",
    "BMap",
    "InfoWindow",
    "children",
    "content",
    "restore",
    "isOpen",
    "undefined",
    "setIsOpen",
    "useEffect",
    "closeInfoWindow",
    "point",
    "Point",
    "lng",
    "lat",
    "openInfoWindow",
    "setContent",
    "setTitle",
    "useVisiable",
    "useEventProperties",
    "useProperties",
    "useEnableProperties"
  ],
  "sources": [
    "../src/useInfoWindow.ts"
  ],
  "sourcesContent": [
    "import { useState, useEffect, useMemo, PropsWithChildren } from 'react';\nimport { useMapContext } from '@uiw/react-baidu-map-map';\nimport {\n  useEnableProperties,\n  useProperties,\n  useVisiable,\n  useEventProperties,\n  usePortal,\n} from '@uiw/react-baidu-map-utils';\nimport { InfoWindowProps } from '.';\n\nexport interface UseInfoWindow extends PropsWithChildren<InfoWindowProps> {}\n\nexport function useInfoWindow(props = {} as UseInfoWindow) {\n  const { position, ...opts } = props;\n  const { container, Portal } = usePortal();\n  const { container: title, Portal: PortalTitle } = usePortal();\n  const { map } = useMapContext();\n  const [infoWindow, setInfoWindow] = useState<BMap.InfoWindow>();\n  useMemo(() => {\n    if (!infoWindow && map) {\n      opts.title = title;\n      const win = new BMap.InfoWindow(props.children ? container : opts.content || '', {\n        ...(opts as BMap.InfoWindowOptions),\n      });\n      setInfoWindow(win);\n    }\n    return () => {\n      if (infoWindow) {\n        infoWindow.restore();\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [map]);\n\n  const [isOpen, setIsOpen] = useState(opts.isOpen === undefined ? true : opts.isOpen);\n  useEffect(() => {\n    if (map && BMap && infoWindow) {\n      if (!isOpen) {\n        map.closeInfoWindow();\n      } else if (position) {\n        const point = new BMap.Point(position.lng, position.lat);\n        map.openInfoWindow(infoWindow, point);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen, infoWindow]);\n\n  useEffect(() => {\n    if (infoWindow) {\n      infoWindow.setContent(props.children ? container : opts.content || '');\n    }\n  }, [props.content, props.children, infoWindow, container, opts.content]);\n\n  useEffect(() => {\n    if (infoWindow) {\n      infoWindow.setTitle(title);\n    }\n  }, [infoWindow, props.content, title]);\n\n  useVisiable(infoWindow!, props);\n  useEventProperties<BMap.InfoWindow, UseInfoWindow>(infoWindow!, props, [\n    'Close',\n    'Open',\n    'Maximize',\n    'Restore',\n    'ClickClose',\n  ]);\n  useProperties<BMap.InfoWindow, UseInfoWindow>(infoWindow!, props, [\n    'Width',\n    'Height',\n    // 'Title',\n    // 'Content',\n    'MaxContent',\n  ]);\n  useEnableProperties<BMap.InfoWindow, UseInfoWindow>(infoWindow!, props, ['CloseOnClick', 'Maximize', 'AutoPan']);\n\n  return {\n    /**\n     * 信息窗口实例对象\n     */\n    infoWindow,\n    /**\n     * 更新 信息窗口实例对象\n     */\n    setInfoWindow,\n    isOpen,\n    setIsOpen,\n    Portal,\n    PortalTitle,\n  };\n}\n"
  ],
  "mappings": "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"
}