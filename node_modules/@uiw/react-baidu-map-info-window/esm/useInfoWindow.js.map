{
  "version": 3,
  "names": [
    "useState",
    "useEffect",
    "useMemo",
    "useMapContext",
    "useEnableProperties",
    "useProperties",
    "useVisiable",
    "useEventProperties",
    "usePortal",
    "useInfoWindow",
    "props",
    "position",
    "opts",
    "container",
    "Portal",
    "title",
    "PortalTitle",
    "map",
    "infoWindow",
    "setInfoWindow",
    "win",
    "BMap",
    "InfoWindow",
    "children",
    "content",
    "restore",
    "isOpen",
    "setIsOpen",
    "undefined",
    "closeInfoWindow",
    "point",
    "Point",
    "lng",
    "lat",
    "openInfoWindow",
    "setContent",
    "setTitle"
  ],
  "sources": [
    "../src/useInfoWindow.ts"
  ],
  "sourcesContent": [
    "import { useState, useEffect, useMemo, PropsWithChildren } from 'react';\nimport { useMapContext } from '@uiw/react-baidu-map-map';\nimport {\n  useEnableProperties,\n  useProperties,\n  useVisiable,\n  useEventProperties,\n  usePortal,\n} from '@uiw/react-baidu-map-utils';\nimport { InfoWindowProps } from '.';\n\nexport interface UseInfoWindow extends PropsWithChildren<InfoWindowProps> {}\n\nexport function useInfoWindow(props = {} as UseInfoWindow) {\n  const { position, ...opts } = props;\n  const { container, Portal } = usePortal();\n  const { container: title, Portal: PortalTitle } = usePortal();\n  const { map } = useMapContext();\n  const [infoWindow, setInfoWindow] = useState<BMap.InfoWindow>();\n  useMemo(() => {\n    if (!infoWindow && map) {\n      opts.title = title;\n      const win = new BMap.InfoWindow(props.children ? container : opts.content || '', {\n        ...(opts as BMap.InfoWindowOptions),\n      });\n      setInfoWindow(win);\n    }\n    return () => {\n      if (infoWindow) {\n        infoWindow.restore();\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [map]);\n\n  const [isOpen, setIsOpen] = useState(opts.isOpen === undefined ? true : opts.isOpen);\n  useEffect(() => {\n    if (map && BMap && infoWindow) {\n      if (!isOpen) {\n        map.closeInfoWindow();\n      } else if (position) {\n        const point = new BMap.Point(position.lng, position.lat);\n        map.openInfoWindow(infoWindow, point);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen, infoWindow]);\n\n  useEffect(() => {\n    if (infoWindow) {\n      infoWindow.setContent(props.children ? container : opts.content || '');\n    }\n  }, [props.content, props.children, infoWindow, container, opts.content]);\n\n  useEffect(() => {\n    if (infoWindow) {\n      infoWindow.setTitle(title);\n    }\n  }, [infoWindow, props.content, title]);\n\n  useVisiable(infoWindow!, props);\n  useEventProperties<BMap.InfoWindow, UseInfoWindow>(infoWindow!, props, [\n    'Close',\n    'Open',\n    'Maximize',\n    'Restore',\n    'ClickClose',\n  ]);\n  useProperties<BMap.InfoWindow, UseInfoWindow>(infoWindow!, props, [\n    'Width',\n    'Height',\n    // 'Title',\n    // 'Content',\n    'MaxContent',\n  ]);\n  useEnableProperties<BMap.InfoWindow, UseInfoWindow>(infoWindow!, props, ['CloseOnClick', 'Maximize', 'AutoPan']);\n\n  return {\n    /**\n     * 信息窗口实例对象\n     */\n    infoWindow,\n    /**\n     * 更新 信息窗口实例对象\n     */\n    setInfoWindow,\n    isOpen,\n    setIsOpen,\n    Portal,\n    PortalTitle,\n  };\n}\n"
  ],
  "mappings": "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"
}