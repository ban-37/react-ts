{
  "version": 3,
  "names": [
    "Provider",
    "props",
    "useReducer",
    "reducer",
    "initialState",
    "state",
    "dispatch",
    "children",
    "React",
    "forwardRef",
    "ref",
    "className",
    "style",
    "window",
    "BMap",
    "BMapGL",
    "elmRef",
    "useRef",
    "useMap",
    "container",
    "current",
    "setContainer",
    "setCenter",
    "setAutoLocalCity",
    "map",
    "useEffect",
    "useMemo",
    "center",
    "autoLocalCity",
    "useImperativeHandle",
    "childs",
    "Children",
    "toArray",
    "fontSize",
    "height",
    "child",
    "key",
    "isValidElement",
    "type",
    "cloneElement"
  ],
  "sources": [
    "../src/index.tsx"
  ],
  "sourcesContent": [
    "/// <reference types=\"@uiw/react-baidu-map-types\" />\nimport React, {\n  FC,\n  PropsWithChildren,\n  useRef,\n  useEffect,\n  useImperativeHandle,\n  useReducer,\n  useMemo,\n  CSSProperties,\n} from 'react';\nimport { useMap } from './useMap';\nimport { Context, reducer, initialState } from './context';\n\nexport * from './useMap';\nexport * from './context';\n\nexport interface Control {\n  Control: BMap.Control;\n  NavigationControl: BMap.NavigationControlOptions;\n  OverviewMapControl: BMap.OverviewMapControlOptions;\n  ScaleControl: BMap.ScaleControlOptions;\n  MapTypeControl: BMap.MapTypeControlOptions;\n  CopyrightControl: BMap.CopyrightControlOptions;\n  GeolocationControl: BMap.GeolocationControlOptions;\n}\n\nexport type ControlOptions =\n  | {\n      name: keyof Control;\n      options?: (bmap: typeof BMap, map: BMap.Map) => void;\n      control?(bmap: typeof BMap, map: BMap.Map): BMap.Control;\n    }\n  | {\n      name: keyof Control;\n      options?: Control[keyof Control];\n      control?(bmap: typeof BMap, map: BMap.Map): BMap.Control;\n    };\n\nexport type ControlOptionsAll = keyof Control | ControlOptions;\n\nexport interface MapProps extends BMap.MapOptions, BMap.MapEvents {\n  className?: React.HTMLAttributes<HTMLDivElement>['className'];\n  style?: React.HTMLAttributes<HTMLDivElement>['style'];\n  /**\n   * 指定的容器\n   */\n  container?: HTMLDivElement | null | undefined;\n  /**\n   * 百度地图上负责与地图交互的UI元素称为控件。\n   */\n  widget?: (ControlOptionsAll | ControlOptions)[];\n  /**\n   * 缩放等级\n   */\n  zoom?: number;\n  /**\n   * 定位, 可使用如 `上海市` 的地区字符串，\n   * 也可以使用对象如 `{lng: 121.424333, lat: 31.228604}` 表示经纬度\n   */\n  center?: string | BMap.Point;\n  /**\n   * IP定位获取当前城市，进行自动定位\n   */\n  autoLocalCity?: boolean;\n  children?: React.ReactNode;\n  /** 设置地图默认的鼠标指针样式。参数cursor应符合CSS的cursor属性规范 */\n  defaultCursor?: CSSProperties['cursor'];\n  /**\n   * 启用地图拖拽，默认启用\n   */\n  enableDragging?: boolean;\n  /**\n   * 启用滚轮放大缩小，默认禁用\n   */\n  enableScrollWheelZoom?: boolean;\n  /**\n   * 启用双击放大，默认启用\n   */\n  enableDoubleClickZoom?: boolean;\n  /**\n   * 启用地图惯性拖拽，默认禁用\n   */\n  enableInertialDragging?: boolean;\n  /**\n   * 启用连续缩放效果，默认禁用\n   */\n  enableContinuousZoom?: boolean;\n  /**\n   * 启用双指操作缩放，默认启用\n   */\n  enablePinchToZoom?: boolean;\n  /**\n   * 启用键盘操作，默认禁用。键盘的上、下、左、右键可连续移动地图。同时按下其中两个键可使地图进行对角移动。\n   * PgUp、PgDn、Home和End键会使地图平移其1/2的大小。+、-键会使地图放大或缩小一级\n   */\n  enableKeyboard?: boolean;\n  /**\n   * 设置地图个性化样式V2版本，仅支持现代浏览器（支持Canvas）\n   */\n  mapStyleV2?: BMap.MapStyleV2;\n  /**\n   * 设置地图城市，注意当地图初始化时的类型设置为 `BMAP_NORMAL_MAP` 时，\n   * 需要在调用 `centerAndZoom` 之前调用此方法设置地图所在城市。\n   * 例如：\n   * @example\n   *\n   * ```js\n   * var map = new BMap.Map(“container”, { mapType: BMAP_NORMAL_MAP });\n   * map.setCurrentCity(“北京市”);\n   * map.centerAndZoom(new BMap.Point(116.404, 39.915), 18);\n   * ```\n   *\n   * 注意：初始化的坐标应与您设置的城市对应，否则地图将无法正常显示。\n   */\n  currentCity?: string;\n  /**\n   * 将全景实例与Map类进行绑定\n   */\n  panorama?: BMap.Panorama;\n\n  viewport?: (view: Array<BMap.Point> | BMap.Viewport, viewportOptions: BMap.ViewportOptions) => void;\n}\n\nexport type RenderProps =\n  | { children?: (data: { BMap: typeof BMap; map: BMap.Map; container?: HTMLDivElement | null }) => undefined }\n  | { children?: React.ReactNode };\n\nexport const Provider: FC<PropsWithChildren<RenderProps>> = (props) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return <Context.Provider value={{ state, dispatch }}>{props.children}</Context.Provider>;\n};\n\nexport default React.forwardRef<MapProps & { map?: BMap.Map }, MapProps & RenderProps>(\n  ({ className, style, children, ...props }, ref) => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n    window.BMap = window.BMap || window.BMapGL;\n    const elmRef = useRef<HTMLDivElement>(null);\n    const { setContainer, container, setCenter, setAutoLocalCity, map } = useMap({\n      container: elmRef.current,\n      ...props,\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => setContainer(elmRef.current), [elmRef.current]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useMemo(() => props.center && setCenter(props.center!), [props.center]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => setAutoLocalCity(props.autoLocalCity!), [props.autoLocalCity]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useImperativeHandle(ref, () => ({ ...props, map, BMap, container: elmRef.current }), [map]);\n    const childs = React.Children.toArray(children);\n    useEffect(() => {\n      if (map) {\n        dispatch({ map, container: elmRef.current, BMap });\n      }\n    }, [map]);\n    return (\n      <Context.Provider value={{ state, dispatch }}>\n        <div ref={elmRef} className={className} style={{ fontSize: 1, height: '100%', ...style }} />\n        {BMap && map && typeof children === 'function' && children({ BMap, map, container })}\n        {BMap &&\n          map &&\n          childs.map((child, key) => {\n            if (!React.isValidElement(child)) return null;\n            if (child.type && typeof child.type === 'string') {\n              return React.cloneElement(child, { key });\n            }\n            return React.cloneElement(child, {\n              ...child.props,\n              BMap,\n              map,\n              container,\n              key,\n            });\n          })}\n      </Context.Provider>\n    );\n  },\n);\n"
  ],
  "mappings": "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"
}