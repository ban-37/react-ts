{
  "version": 3,
  "names": [
    "React",
    "useRef",
    "useEffect",
    "useImperativeHandle",
    "useReducer",
    "useMemo",
    "useMap",
    "Context",
    "reducer",
    "initialState",
    "Provider",
    "props",
    "state",
    "dispatch",
    "children",
    "forwardRef",
    "ref",
    "className",
    "style",
    "window",
    "BMap",
    "BMapGL",
    "elmRef",
    "setContainer",
    "container",
    "setCenter",
    "setAutoLocalCity",
    "map",
    "current",
    "center",
    "autoLocalCity",
    "childs",
    "Children",
    "toArray",
    "fontSize",
    "height",
    "child",
    "key",
    "isValidElement",
    "type",
    "cloneElement"
  ],
  "sources": [
    "../src/index.tsx"
  ],
  "sourcesContent": [
    "/// <reference types=\"@uiw/react-baidu-map-types\" />\nimport React, {\n  FC,\n  PropsWithChildren,\n  useRef,\n  useEffect,\n  useImperativeHandle,\n  useReducer,\n  useMemo,\n  CSSProperties,\n} from 'react';\nimport { useMap } from './useMap';\nimport { Context, reducer, initialState } from './context';\n\nexport * from './useMap';\nexport * from './context';\n\nexport interface Control {\n  Control: BMap.Control;\n  NavigationControl: BMap.NavigationControlOptions;\n  OverviewMapControl: BMap.OverviewMapControlOptions;\n  ScaleControl: BMap.ScaleControlOptions;\n  MapTypeControl: BMap.MapTypeControlOptions;\n  CopyrightControl: BMap.CopyrightControlOptions;\n  GeolocationControl: BMap.GeolocationControlOptions;\n}\n\nexport type ControlOptions =\n  | {\n      name: keyof Control;\n      options?: (bmap: typeof BMap, map: BMap.Map) => void;\n      control?(bmap: typeof BMap, map: BMap.Map): BMap.Control;\n    }\n  | {\n      name: keyof Control;\n      options?: Control[keyof Control];\n      control?(bmap: typeof BMap, map: BMap.Map): BMap.Control;\n    };\n\nexport type ControlOptionsAll = keyof Control | ControlOptions;\n\nexport interface MapProps extends BMap.MapOptions, BMap.MapEvents {\n  className?: React.HTMLAttributes<HTMLDivElement>['className'];\n  style?: React.HTMLAttributes<HTMLDivElement>['style'];\n  /**\n   * 指定的容器\n   */\n  container?: HTMLDivElement | null | undefined;\n  /**\n   * 百度地图上负责与地图交互的UI元素称为控件。\n   */\n  widget?: (ControlOptionsAll | ControlOptions)[];\n  /**\n   * 缩放等级\n   */\n  zoom?: number;\n  /**\n   * 定位, 可使用如 `上海市` 的地区字符串，\n   * 也可以使用对象如 `{lng: 121.424333, lat: 31.228604}` 表示经纬度\n   */\n  center?: string | BMap.Point;\n  /**\n   * IP定位获取当前城市，进行自动定位\n   */\n  autoLocalCity?: boolean;\n  children?: React.ReactNode;\n  /** 设置地图默认的鼠标指针样式。参数cursor应符合CSS的cursor属性规范 */\n  defaultCursor?: CSSProperties['cursor'];\n  /**\n   * 启用地图拖拽，默认启用\n   */\n  enableDragging?: boolean;\n  /**\n   * 启用滚轮放大缩小，默认禁用\n   */\n  enableScrollWheelZoom?: boolean;\n  /**\n   * 启用双击放大，默认启用\n   */\n  enableDoubleClickZoom?: boolean;\n  /**\n   * 启用地图惯性拖拽，默认禁用\n   */\n  enableInertialDragging?: boolean;\n  /**\n   * 启用连续缩放效果，默认禁用\n   */\n  enableContinuousZoom?: boolean;\n  /**\n   * 启用双指操作缩放，默认启用\n   */\n  enablePinchToZoom?: boolean;\n  /**\n   * 启用键盘操作，默认禁用。键盘的上、下、左、右键可连续移动地图。同时按下其中两个键可使地图进行对角移动。\n   * PgUp、PgDn、Home和End键会使地图平移其1/2的大小。+、-键会使地图放大或缩小一级\n   */\n  enableKeyboard?: boolean;\n  /**\n   * 设置地图个性化样式V2版本，仅支持现代浏览器（支持Canvas）\n   */\n  mapStyleV2?: BMap.MapStyleV2;\n  /**\n   * 设置地图城市，注意当地图初始化时的类型设置为 `BMAP_NORMAL_MAP` 时，\n   * 需要在调用 `centerAndZoom` 之前调用此方法设置地图所在城市。\n   * 例如：\n   * @example\n   *\n   * ```js\n   * var map = new BMap.Map(“container”, { mapType: BMAP_NORMAL_MAP });\n   * map.setCurrentCity(“北京市”);\n   * map.centerAndZoom(new BMap.Point(116.404, 39.915), 18);\n   * ```\n   *\n   * 注意：初始化的坐标应与您设置的城市对应，否则地图将无法正常显示。\n   */\n  currentCity?: string;\n  /**\n   * 将全景实例与Map类进行绑定\n   */\n  panorama?: BMap.Panorama;\n\n  viewport?: (view: Array<BMap.Point> | BMap.Viewport, viewportOptions: BMap.ViewportOptions) => void;\n}\n\nexport type RenderProps =\n  | { children?: (data: { BMap: typeof BMap; map: BMap.Map; container?: HTMLDivElement | null }) => undefined }\n  | { children?: React.ReactNode };\n\nexport const Provider: FC<PropsWithChildren<RenderProps>> = (props) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return <Context.Provider value={{ state, dispatch }}>{props.children}</Context.Provider>;\n};\n\nexport default React.forwardRef<MapProps & { map?: BMap.Map }, MapProps & RenderProps>(\n  ({ className, style, children, ...props }, ref) => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n    window.BMap = window.BMap || window.BMapGL;\n    const elmRef = useRef<HTMLDivElement>(null);\n    const { setContainer, container, setCenter, setAutoLocalCity, map } = useMap({\n      container: elmRef.current,\n      ...props,\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => setContainer(elmRef.current), [elmRef.current]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useMemo(() => props.center && setCenter(props.center!), [props.center]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => setAutoLocalCity(props.autoLocalCity!), [props.autoLocalCity]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useImperativeHandle(ref, () => ({ ...props, map, BMap, container: elmRef.current }), [map]);\n    const childs = React.Children.toArray(children);\n    useEffect(() => {\n      if (map) {\n        dispatch({ map, container: elmRef.current, BMap });\n      }\n    }, [map]);\n    return (\n      <Context.Provider value={{ state, dispatch }}>\n        <div ref={elmRef} className={className} style={{ fontSize: 1, height: '100%', ...style }} />\n        {BMap && map && typeof children === 'function' && children({ BMap, map, container })}\n        {BMap &&\n          map &&\n          childs.map((child, key) => {\n            if (!React.isValidElement(child)) return null;\n            if (child.type && typeof child.type === 'string') {\n              return React.cloneElement(child, { key });\n            }\n            return React.cloneElement(child, {\n              ...child.props,\n              BMap,\n              map,\n              container,\n              key,\n            });\n          })}\n      </Context.Provider>\n    );\n  },\n);\n"
  ],
  "mappings": "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"
}