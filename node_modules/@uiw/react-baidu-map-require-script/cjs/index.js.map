{
  "version": 3,
  "names": [
    "React",
    "forwardRef",
    "props",
    "ref",
    "children",
    "map",
    "container",
    "useState",
    "completed",
    "setCompleted",
    "useEffect",
    "src",
    "requireScript",
    "then",
    "onCompleted",
    "catch",
    "err",
    "onFailed",
    "childs",
    "Children",
    "toArray",
    "BMap",
    "child",
    "isValidElement",
    "cloneElement"
  ],
  "sources": [
    "../src/index.tsx"
  ],
  "sourcesContent": [
    "import React, { Fragment, useEffect, useState } from 'react';\nimport { requireScript } from '@uiw/react-baidu-map-utils';\nimport { MapChildRenderProps } from '@uiw/react-baidu-map-map';\n\nexport type RequireScriptProps = {\n  src?: string;\n  /** ✅ 加载完成 */\n  onCompleted?: () => void;\n  /** ❌ 加载失败 */\n  onFailed?: (error: any) => void;\n} & MapChildRenderProps;\n\nexport default React.forwardRef<\n  RequireScriptProps,\n  RequireScriptProps & {\n    map: BMap.Map;\n    container?: string | HTMLDivElement | null;\n  }\n>((props, ref) => {\n  const { children, map, container } = props || {};\n  const [completed, setCompleted] = useState(false);\n  useEffect(() => {\n    if (props.src) {\n      requireScript(props.src)\n        .then(() => {\n          setCompleted(true);\n          props.onCompleted && props.onCompleted();\n        })\n        .catch((err) => {\n          props.onFailed && props.onFailed(err);\n        });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const childs = React.Children.toArray(children);\n  if (completed) {\n    return (\n      <Fragment>\n        {typeof children === 'function' && children({ BMap, map, container })}\n        {childs.map((child) => {\n          if (!React.isValidElement(child)) return null;\n          return React.cloneElement(child, {\n            ...child.props,\n            BMap,\n            map,\n            container,\n          });\n        })}\n      </Fragment>\n    );\n  }\n\n  return null;\n});\n"
  ],
  "mappings": ";;;;;;;;;;AAAA;AACA;AAA2D;AAAA,4BAW5CA,cAAK,CAACC,UAAU,CAM7B,UAACC,KAAK,EAAEC,GAAG,EAAK;EAChB,WAAqCD,KAAK,IAAI,CAAC,CAAC;IAAxCE,QAAQ,QAARA,QAAQ;IAAEC,GAAG,QAAHA,GAAG;IAAEC,SAAS,QAATA,SAAS;EAChC,gBAAkC,IAAAC,eAAQ,EAAC,KAAK,CAAC;IAAA;IAA1CC,SAAS;IAAEC,YAAY;EAC9B,IAAAC,gBAAS,EAAC,YAAM;IACd,IAAIR,KAAK,CAACS,GAAG,EAAE;MACb,IAAAC,iCAAa,EAACV,KAAK,CAACS,GAAG,CAAC,CACrBE,IAAI,CAAC,YAAM;QACVJ,YAAY,CAAC,IAAI,CAAC;QAClBP,KAAK,CAACY,WAAW,IAAIZ,KAAK,CAACY,WAAW,EAAE;MAC1C,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,GAAG,EAAK;QACdd,KAAK,CAACe,QAAQ,IAAIf,KAAK,CAACe,QAAQ,CAACD,GAAG,CAAC;MACvC,CAAC,CAAC;IACN;IACA;EACF,CAAC,EAAE,EAAE,CAAC;EACN,IAAME,MAAM,GAAGlB,cAAK,CAACmB,QAAQ,CAACC,OAAO,CAAChB,QAAQ,CAAC;EAC/C,IAAII,SAAS,EAAE;IACb,oBACE,sBAAC,eAAQ;MAAA,WACN,OAAOJ,QAAQ,KAAK,UAAU,IAAIA,QAAQ,CAAC;QAAEiB,IAAI,EAAJA,IAAI;QAAEhB,GAAG,EAAHA,GAAG;QAAEC,SAAS,EAATA;MAAU,CAAC,CAAC,EACpEY,MAAM,CAACb,GAAG,CAAC,UAACiB,KAAK,EAAK;QACrB,IAAI,eAACtB,cAAK,CAACuB,cAAc,CAACD,KAAK,CAAC,EAAE,OAAO,IAAI;QAC7C,oBAAOtB,cAAK,CAACwB,YAAY,CAACF,KAAK,8DAC1BA,KAAK,CAACpB,KAAK;UACdmB,IAAI,EAAJA,IAAI;UACJhB,GAAG,EAAHA,GAAG;UACHC,SAAS,EAATA;QAAS,GACT;MACJ,CAAC,CAAC;IAAA,EACO;EAEf;EAEA,OAAO,IAAI;AACb,CAAC,CAAC;AAAA;AAAA"
}