{
  "version": 3,
  "names": [
    "React",
    "Fragment",
    "useEffect",
    "useState",
    "requireScript",
    "forwardRef",
    "props",
    "ref",
    "children",
    "map",
    "container",
    "completed",
    "setCompleted",
    "src",
    "then",
    "onCompleted",
    "catch",
    "err",
    "onFailed",
    "childs",
    "Children",
    "toArray",
    "BMap",
    "child",
    "isValidElement",
    "cloneElement"
  ],
  "sources": [
    "../src/index.tsx"
  ],
  "sourcesContent": [
    "import React, { Fragment, useEffect, useState } from 'react';\nimport { requireScript } from '@uiw/react-baidu-map-utils';\nimport { MapChildRenderProps } from '@uiw/react-baidu-map-map';\n\nexport type RequireScriptProps = {\n  src?: string;\n  /** ✅ 加载完成 */\n  onCompleted?: () => void;\n  /** ❌ 加载失败 */\n  onFailed?: (error: any) => void;\n} & MapChildRenderProps;\n\nexport default React.forwardRef<\n  RequireScriptProps,\n  RequireScriptProps & {\n    map: BMap.Map;\n    container?: string | HTMLDivElement | null;\n  }\n>((props, ref) => {\n  const { children, map, container } = props || {};\n  const [completed, setCompleted] = useState(false);\n  useEffect(() => {\n    if (props.src) {\n      requireScript(props.src)\n        .then(() => {\n          setCompleted(true);\n          props.onCompleted && props.onCompleted();\n        })\n        .catch((err) => {\n          props.onFailed && props.onFailed(err);\n        });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const childs = React.Children.toArray(children);\n  if (completed) {\n    return (\n      <Fragment>\n        {typeof children === 'function' && children({ BMap, map, container })}\n        {childs.map((child) => {\n          if (!React.isValidElement(child)) return null;\n          return React.cloneElement(child, {\n            ...child.props,\n            BMap,\n            map,\n            container,\n          });\n        })}\n      </Fragment>\n    );\n  }\n\n  return null;\n});\n"
  ],
  "mappings": ";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC5D,SAASC,aAAa,QAAQ,4BAA4B;AAAC;AAW3D,4BAAeJ,KAAK,CAACK,UAAU,CAM7B,CAACC,KAAK,EAAEC,GAAG,KAAK;EAChB,IAAM;IAAEC,QAAQ;IAAEC,GAAG;IAAEC;EAAU,CAAC,GAAGJ,KAAK,IAAI,CAAC,CAAC;EAChD,IAAM,CAACK,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACjDD,SAAS,CAAC,MAAM;IACd,IAAII,KAAK,CAACO,GAAG,EAAE;MACbT,aAAa,CAACE,KAAK,CAACO,GAAG,CAAC,CACrBC,IAAI,CAAC,MAAM;QACVF,YAAY,CAAC,IAAI,CAAC;QAClBN,KAAK,CAACS,WAAW,IAAIT,KAAK,CAACS,WAAW,EAAE;MAC1C,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;QACdX,KAAK,CAACY,QAAQ,IAAIZ,KAAK,CAACY,QAAQ,CAACD,GAAG,CAAC;MACvC,CAAC,CAAC;IACN;IACA;EACF,CAAC,EAAE,EAAE,CAAC;EACN,IAAME,MAAM,GAAGnB,KAAK,CAACoB,QAAQ,CAACC,OAAO,CAACb,QAAQ,CAAC;EAC/C,IAAIG,SAAS,EAAE;IACb,oBACE,MAAC,QAAQ;MAAA,WACN,OAAOH,QAAQ,KAAK,UAAU,IAAIA,QAAQ,CAAC;QAAEc,IAAI;QAAEb,GAAG;QAAEC;MAAU,CAAC,CAAC,EACpES,MAAM,CAACV,GAAG,CAAEc,KAAK,IAAK;QACrB,IAAI,eAACvB,KAAK,CAACwB,cAAc,CAACD,KAAK,CAAC,EAAE,OAAO,IAAI;QAC7C,oBAAOvB,KAAK,CAACyB,YAAY,CAACF,KAAK,eAC1BA,KAAK,CAACjB,KAAK;UACdgB,IAAI;UACJb,GAAG;UACHC;QAAS,GACT;MACJ,CAAC,CAAC;IAAA,EACO;EAEf;EAEA,OAAO,IAAI;AACb,CAAC,CAAC"
}