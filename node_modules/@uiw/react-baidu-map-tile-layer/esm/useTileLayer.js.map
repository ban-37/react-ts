{
  "version": 3,
  "names": [
    "useEffect",
    "useState",
    "useMapContext",
    "useTileLayer",
    "props",
    "tileLayer",
    "setTileLayer",
    "transparentPng",
    "tileUrlTemplate",
    "copyright",
    "zIndex",
    "map",
    "instance",
    "BMap",
    "TileLayer",
    "getTilesUrl",
    "getCopyright",
    "addTileLayer",
    "removeTileLayer",
    "visiable",
    "setVisiable"
  ],
  "sources": [
    "../src/useTileLayer.ts"
  ],
  "sourcesContent": [
    "import { useEffect, useState } from 'react';\nimport { useMapContext } from '@uiw/react-baidu-map-map';\nimport { TileLayerProps } from './';\n\nexport interface UseTileLayer extends TileLayerProps {}\n/**\n * https://lbsyun.baidu.com/jsdemo.htm#g0_2\n */\nexport function useTileLayer(props = {} as UseTileLayer) {\n  const [tileLayer, setTileLayer] = useState<BMap.TileLayer>();\n  const { transparentPng = true, tileUrlTemplate, copyright, zIndex } = props;\n  const { map } = useMapContext();\n\n  useEffect(() => {\n    if (map && !tileLayer) {\n      const instance = new BMap.TileLayer({\n        transparentPng,\n        tileUrlTemplate,\n        copyright,\n        zIndex,\n      });\n      if (!!props.getTilesUrl) {\n        instance.getTilesUrl = props.getTilesUrl;\n      }\n      if (!!props.getCopyright) {\n        instance.getCopyright = props.getCopyright;\n      }\n      map.addTileLayer(instance);\n      setTileLayer(instance);\n      return () => {\n        if (instance) {\n          map.removeTileLayer(instance);\n        }\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [map]);\n\n  const [visiable, setVisiable] = useState(props.visiable);\n  useEffect(() => {\n    if (map && tileLayer) {\n      visiable ? map.addTileLayer(tileLayer) : map.removeTileLayer(tileLayer);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [visiable, map]);\n\n  return {\n    tileLayer,\n    setTileLayer,\n    visiable,\n    setVisiable,\n  };\n}\n"
  ],
  "mappings": "AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,aAAa,QAAQ,0BAA0B;AAIxD;AACA;AACA;AACA,OAAO,SAASC,YAAY,CAACC,KAAK,EAAuB;EAAA,IAA5BA,KAAK;IAALA,KAAK,GAAG,CAAC,CAAC;EAAA;EACrC,IAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGL,QAAQ,EAAkB;EAC5D,IAAM;IAAEM,cAAc,GAAG,IAAI;IAAEC,eAAe;IAAEC,SAAS;IAAEC;EAAO,CAAC,GAAGN,KAAK;EAC3E,IAAM;IAAEO;EAAI,CAAC,GAAGT,aAAa,EAAE;EAE/BF,SAAS,CAAC,MAAM;IACd,IAAIW,GAAG,IAAI,CAACN,SAAS,EAAE;MACrB,IAAMO,QAAQ,GAAG,IAAIC,IAAI,CAACC,SAAS,CAAC;QAClCP,cAAc;QACdC,eAAe;QACfC,SAAS;QACTC;MACF,CAAC,CAAC;MACF,IAAI,CAAC,CAACN,KAAK,CAACW,WAAW,EAAE;QACvBH,QAAQ,CAACG,WAAW,GAAGX,KAAK,CAACW,WAAW;MAC1C;MACA,IAAI,CAAC,CAACX,KAAK,CAACY,YAAY,EAAE;QACxBJ,QAAQ,CAACI,YAAY,GAAGZ,KAAK,CAACY,YAAY;MAC5C;MACAL,GAAG,CAACM,YAAY,CAACL,QAAQ,CAAC;MAC1BN,YAAY,CAACM,QAAQ,CAAC;MACtB,OAAO,MAAM;QACX,IAAIA,QAAQ,EAAE;UACZD,GAAG,CAACO,eAAe,CAACN,QAAQ,CAAC;QAC/B;MACF,CAAC;IACH;IACA;EACF,CAAC,EAAE,CAACD,GAAG,CAAC,CAAC;EAET,IAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAACG,KAAK,CAACe,QAAQ,CAAC;EACxDnB,SAAS,CAAC,MAAM;IACd,IAAIW,GAAG,IAAIN,SAAS,EAAE;MACpBc,QAAQ,GAAGR,GAAG,CAACM,YAAY,CAACZ,SAAS,CAAC,GAAGM,GAAG,CAACO,eAAe,CAACb,SAAS,CAAC;IACzE;IACA;EACF,CAAC,EAAE,CAACc,QAAQ,EAAER,GAAG,CAAC,CAAC;EAEnB,OAAO;IACLN,SAAS;IACTC,YAAY;IACZa,QAAQ;IACRC;EACF,CAAC;AACH"
}