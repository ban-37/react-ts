{
  "version": 3,
  "names": [
    "useEnableProperties",
    "instance",
    "props",
    "propsName",
    "forEach",
    "name",
    "eName",
    "funName",
    "undefined",
    "useVisiable",
    "visiable",
    "useState",
    "state",
    "setState",
    "useEffect",
    "show",
    "hide",
    "useProperties",
    "charAt",
    "toLowerCase",
    "slice",
    "data",
    "lng",
    "lat",
    "BMap",
    "Point",
    "preData",
    "equals",
    "useEventProperties",
    "eventName",
    "type",
    "eventHandle",
    "replace",
    "addEventListener",
    "removeEventListener",
    "usePrevious",
    "value",
    "ref",
    "useRef",
    "current",
    "useRenderDom",
    "container",
    "document",
    "createElement",
    "useLayoutEffect",
    "render",
    "children"
  ],
  "sources": [
    "../src/hooks.tsx"
  ],
  "sourcesContent": [
    "/// <reference types=\"@uiw/react-baidu-map-types\" />\nimport { render } from 'react-dom';\nimport React, { Fragment, useEffect, useState, useRef, useLayoutEffect } from 'react';\n\n/**\n * 批量创建多个如下 State，监听并设置值，\n * 组件属性更改 <Componet enableDragging={true} >\n * 根据 enableDragging 的 Boolean 值，执行 `enable` 和 `disable` 开头的函数。\n * @example\n * ```js\n * const [enableDragging, setEnableDragging] = useState(props.enableDragging);\n * useEffect(() => {\n *   console.log('~~:enableDragging', enableDragging, props.enableDragging, polyline);\n *   setEnableDragging(props.enableDragging)\n * }, [polyline, enableDragging, props.enableDragging]);\n * ```\n * @param instance\n * @param props\n * @param propsName\n */\nexport function useEnableProperties<T = {}, F = {}>(instance: T, props = {} as F, propsName: string[] = []) {\n  propsName.forEach((name) => {\n    const eName = `enable${name}` as keyof F;\n    const funName = (props[eName] ? `enable${name}` : `disable${name}`) as keyof T;\n    if (instance && props[eName] !== undefined) {\n      instance[funName] && (instance[funName] as any)();\n    }\n  });\n}\n\n/**\n * 针对 Overlay 类型的组件，有公共的是否显示 对象处理\n * 通过参数 `visiable` 来控制执行 `show()` or `hide()`\n */\nexport function useVisiable<T extends BMap.Overlay, F extends { visiable?: boolean }>(instance: T, props = {} as F) {\n  const visiable = (props as any).visiable;\n  const [state, setState] = useState(visiable);\n  useEffect(() => {\n    if (instance && visiable !== undefined) {\n      if (visiable) {\n        instance.show && instance.show();\n      } else {\n        instance.hide && instance.hide();\n      }\n      if (visiable !== state) {\n        setState(visiable);\n      }\n    }\n  }, [instance, state, visiable]);\n}\n\n/**\n * 批量创建多个如下 State，监听并设置值，\n * 执行 `set` 开头的函数。\n * @param instance\n * @param props\n * @param propsName\n */\nexport function useProperties<T, F>(instance: T, props: F, propsName: string[] = []) {\n  propsName.forEach((name) => {\n    const eName = `${name.charAt(0).toLowerCase()}${name.slice(1)}` as keyof F;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const [state, setState] = useState(props[eName]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(() => {\n      if (instance && instance[`set${name}` as keyof T] && props[eName] !== undefined) {\n        /**\n         * 坐标点的参数设置，比对, 坐标点的参数设置\n         */\n        let data: any = props[eName];\n        if (data && data.lng && data.lat) {\n          data = new BMap.Point(data.lng, data.lat);\n          let preData: any = state;\n          if (preData && preData.lng && preData.lat) {\n            preData = new BMap.Point(preData.lng, preData.lat);\n            if (data.equals(preData)) {\n              return;\n            }\n          }\n        }\n\n        (instance[`set${name}` as keyof T] as any)(data);\n        // 属性发生变化缓存\n        if (state !== props[eName]) {\n          if (eName === 'bounds') {\n            if (state && props[eName] && !(state as any).equals(props[eName])) {\n              setState(props[eName]);\n            }\n          } else {\n            setState(props[eName]);\n          }\n        }\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [instance, props[eName]]);\n  });\n}\n\nexport interface EventListener {\n  /**\n   * 添加事件监听函数\n   * @param event\n   * @param handler\n   */\n  addEventListener(event: string, handler: any): void;\n  /**\n   * 移除事件监听函数\n   * @param event\n   * @param handler\n   */\n  removeEventListener(event: string, handler: any): void;\n}\n\nexport type EventNameType = 'CamelCase' | 'PascalCase' | 'LowerCase';\n\n/**\n * 绑定事件\n * @param instance 实例对象\n * @param props 传递进来的 props\n * @param eventName 事件的名字，如，我们使用 `onClick` 事件，最终被转换成，`click` 绑定到实例中，`onDblClick` => `dblclick`\n *\n * @example\n * ```js\n * useEventProperties<BMap.Marker, UseMarker>(marker!, props, [\n *   'Click', 'DblClick', 'MouseDown', 'MouseUp', 'MouseOut', 'MouseOver'\n * ]);\n * ```\n */\nexport function useEventProperties<T extends EventListener, F>(\n  instance: T,\n  props = {} as F,\n  eventName: string[] = [],\n  type?: EventNameType,\n) {\n  eventName.forEach((name) => {\n    const eventName = `on${name}` as keyof F;\n    const eventHandle = props[eventName];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(() => {\n      if (!instance) return;\n      if (eventHandle && name) {\n        let eName = name;\n        if (type === 'CamelCase') {\n          eName = name.replace(name[0], name[0].toLowerCase());\n        } else {\n          eName = name.toLowerCase();\n        }\n        instance.addEventListener(eName, eventHandle);\n        return () => {\n          instance.removeEventListener(eName, eventHandle);\n        };\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [instance, props[eventName]]);\n  });\n}\n\n/**\n * 获取上一轮的 props 或 state\n * How to get the previous props or state?\n * https://reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state\n * @example\n * ```js\n * function Counter() {\n *   const [count, setCount] = useState(0);\n *   const prevCount = usePrevious(count);\n *   return <h1>Now: {count}, before: {prevCount}</h1>;\n * }\n * ```\n */\nexport function usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nexport function useRenderDom(props: { children: React.ReactNode }) {\n  const container = useRef(document.createElement('div'));\n\n  useLayoutEffect(() => {\n    render(<Fragment>{props.children}</Fragment>, container.current);\n  }, [props.children]);\n\n  return { container: container.current };\n}\n"
  ],
  "mappings": ";;;;;;;;;;;;;;AACA;AACA;AAAsF;AAFtF;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,mBAAmB,CAAiBC,QAAW,EAA6C;EAAA,IAA3CC,KAAK,uEAAG,CAAC,CAAC;EAAA,IAAOC,SAAmB,uEAAG,EAAE;EACxGA,SAAS,CAACC,OAAO,CAAC,UAACC,IAAI,EAAK;IAC1B,IAAMC,KAAK,mBAAYD,IAAI,CAAa;IACxC,IAAME,OAAO,GAAIL,KAAK,CAACI,KAAK,CAAC,mBAAYD,IAAI,qBAAeA,IAAI,CAAc;IAC9E,IAAIJ,QAAQ,IAAIC,KAAK,CAACI,KAAK,CAAC,KAAKE,SAAS,EAAE;MAC1CP,QAAQ,CAACM,OAAO,CAAC,IAAKN,QAAQ,CAACM,OAAO,CAAC,EAAU;IACnD;EACF,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACO,SAASE,WAAW,CAA2DR,QAAW,EAAmB;EAAA,IAAjBC,KAAK,uEAAG,CAAC,CAAC;EAC3G,IAAMQ,QAAQ,GAAIR,KAAK,CAASQ,QAAQ;EACxC,gBAA0B,IAAAC,eAAQ,EAACD,QAAQ,CAAC;IAAA;IAArCE,KAAK;IAAEC,QAAQ;EACtB,IAAAC,gBAAS,EAAC,YAAM;IACd,IAAIb,QAAQ,IAAIS,QAAQ,KAAKF,SAAS,EAAE;MACtC,IAAIE,QAAQ,EAAE;QACZT,QAAQ,CAACc,IAAI,IAAId,QAAQ,CAACc,IAAI,EAAE;MAClC,CAAC,MAAM;QACLd,QAAQ,CAACe,IAAI,IAAIf,QAAQ,CAACe,IAAI,EAAE;MAClC;MACA,IAAIN,QAAQ,KAAKE,KAAK,EAAE;QACtBC,QAAQ,CAACH,QAAQ,CAAC;MACpB;IACF;EACF,CAAC,EAAE,CAACT,QAAQ,EAAEW,KAAK,EAAEF,QAAQ,CAAC,CAAC;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASO,aAAa,CAAOhB,QAAW,EAAEC,KAAQ,EAA4B;EAAA,IAA1BC,SAAmB,uEAAG,EAAE;EACjFA,SAAS,CAACC,OAAO,CAAC,UAACC,IAAI,EAAK;IAC1B,IAAMC,KAAK,aAAMD,IAAI,CAACa,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,SAAGd,IAAI,CAACe,KAAK,CAAC,CAAC,CAAC,CAAa;IAC1E;IACA,iBAA0B,IAAAT,eAAQ,EAACT,KAAK,CAACI,KAAK,CAAC,CAAC;MAAA;MAAzCM,KAAK;MAAEC,QAAQ;IACtB;IACA,IAAAC,gBAAS,EAAC,YAAM;MACd,IAAIb,QAAQ,IAAIA,QAAQ,cAAOI,IAAI,EAAc,IAAIH,KAAK,CAACI,KAAK,CAAC,KAAKE,SAAS,EAAE;QAC/E;AACR;AACA;QACQ,IAAIa,IAAS,GAAGnB,KAAK,CAACI,KAAK,CAAC;QAC5B,IAAIe,IAAI,IAAIA,IAAI,CAACC,GAAG,IAAID,IAAI,CAACE,GAAG,EAAE;UAChCF,IAAI,GAAG,IAAIG,IAAI,CAACC,KAAK,CAACJ,IAAI,CAACC,GAAG,EAAED,IAAI,CAACE,GAAG,CAAC;UACzC,IAAIG,OAAY,GAAGd,KAAK;UACxB,IAAIc,OAAO,IAAIA,OAAO,CAACJ,GAAG,IAAII,OAAO,CAACH,GAAG,EAAE;YACzCG,OAAO,GAAG,IAAIF,IAAI,CAACC,KAAK,CAACC,OAAO,CAACJ,GAAG,EAAEI,OAAO,CAACH,GAAG,CAAC;YAClD,IAAIF,IAAI,CAACM,MAAM,CAACD,OAAO,CAAC,EAAE;cACxB;YACF;UACF;QACF;QAECzB,QAAQ,cAAOI,IAAI,EAAc,CAASgB,IAAI,CAAC;QAChD;QACA,IAAIT,KAAK,KAAKV,KAAK,CAACI,KAAK,CAAC,EAAE;UAC1B,IAAIA,KAAK,KAAK,QAAQ,EAAE;YACtB,IAAIM,KAAK,IAAIV,KAAK,CAACI,KAAK,CAAC,IAAI,CAAEM,KAAK,CAASe,MAAM,CAACzB,KAAK,CAACI,KAAK,CAAC,CAAC,EAAE;cACjEO,QAAQ,CAACX,KAAK,CAACI,KAAK,CAAC,CAAC;YACxB;UACF,CAAC,MAAM;YACLO,QAAQ,CAACX,KAAK,CAACI,KAAK,CAAC,CAAC;UACxB;QACF;MACF;MACA;IACF,CAAC,EAAE,CAACL,QAAQ,EAAEC,KAAK,CAACI,KAAK,CAAC,CAAC,CAAC;EAC9B,CAAC,CAAC;AACJ;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASsB,kBAAkB,CAChC3B,QAAW,EAIX;EAAA,IAHAC,KAAK,uEAAG,CAAC,CAAC;EAAA,IACV2B,SAAmB,uEAAG,EAAE;EAAA,IACxBC,IAAoB;EAEpBD,SAAS,CAACzB,OAAO,CAAC,UAACC,IAAI,EAAK;IAC1B,IAAMwB,SAAS,eAAQxB,IAAI,CAAa;IACxC,IAAM0B,WAAW,GAAG7B,KAAK,CAAC2B,SAAS,CAAC;IACpC;IACA,IAAAf,gBAAS,EAAC,YAAM;MACd,IAAI,CAACb,QAAQ,EAAE;MACf,IAAI8B,WAAW,IAAI1B,IAAI,EAAE;QACvB,IAAIC,KAAK,GAAGD,IAAI;QAChB,IAAIyB,IAAI,KAAK,WAAW,EAAE;UACxBxB,KAAK,GAAGD,IAAI,CAAC2B,OAAO,CAAC3B,IAAI,CAAC,CAAC,CAAC,EAAEA,IAAI,CAAC,CAAC,CAAC,CAACc,WAAW,EAAE,CAAC;QACtD,CAAC,MAAM;UACLb,KAAK,GAAGD,IAAI,CAACc,WAAW,EAAE;QAC5B;QACAlB,QAAQ,CAACgC,gBAAgB,CAAC3B,KAAK,EAAEyB,WAAW,CAAC;QAC7C,OAAO,YAAM;UACX9B,QAAQ,CAACiC,mBAAmB,CAAC5B,KAAK,EAAEyB,WAAW,CAAC;QAClD,CAAC;MACH;MACA;IACF,CAAC,EAAE,CAAC9B,QAAQ,EAAEC,KAAK,CAAC2B,SAAS,CAAC,CAAC,CAAC;EAClC,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASM,WAAW,CAAIC,KAAQ,EAAE;EACvC,IAAMC,GAAG,GAAG,IAAAC,aAAM,GAAK;EACvB,IAAAxB,gBAAS,EAAC,YAAM;IACduB,GAAG,CAACE,OAAO,GAAGH,KAAK;EACrB,CAAC,CAAC;EACF,OAAOC,GAAG,CAACE,OAAO;AACpB;AAEO,SAASC,YAAY,CAACtC,KAAoC,EAAE;EACjE,IAAMuC,SAAS,GAAG,IAAAH,aAAM,EAACI,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CAAC;EAEvD,IAAAC,sBAAe,EAAC,YAAM;IACpB,IAAAC,gBAAM,gBAAC,qBAAC,eAAQ;MAAA,UAAE3C,KAAK,CAAC4C;IAAQ,EAAY,EAAEL,SAAS,CAACF,OAAO,CAAC;EAClE,CAAC,EAAE,CAACrC,KAAK,CAAC4C,QAAQ,CAAC,CAAC;EAEpB,OAAO;IAAEL,SAAS,EAAEA,SAAS,CAACF;EAAQ,CAAC;AACzC"
}