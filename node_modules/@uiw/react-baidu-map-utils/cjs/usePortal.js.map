{
  "version": 3,
  "names": [
    "usePortal",
    "React",
    "useState",
    "el",
    "document",
    "createElement",
    "container",
    "render",
    "remove",
    "portal",
    "setPortal",
    "ReactCreatePortal",
    "useCallback",
    "elmm",
    "Portal",
    "children",
    "createPortal",
    "elm",
    "unmountComponentAtNode",
    "useEffect",
    "newPortal"
  ],
  "sources": [
    "../src/usePortal.tsx"
  ],
  "sourcesContent": [
    "import React, { useState, useEffect, ReactPortal } from 'react';\nimport { createPortal, unmountComponentAtNode } from 'react-dom';\n\ninterface State {\n  render: (props: { children?: React.ReactNode }) => ReactPortal | null;\n  remove: (elm?: HTMLElement) => void;\n}\n\nexport const usePortal = () => {\n  const [container] = React.useState<HTMLDivElement>(() => {\n    const el = document.createElement('div');\n    return el;\n  });\n  const [portal, setPortal] = useState<State>({\n    render: () => null,\n    remove: () => null,\n  });\n\n  const ReactCreatePortal = React.useCallback<(elmm: HTMLDivElement) => State>((elmm) => {\n    const Portal: State['render'] = ({ children }) => {\n      if (!children) return null;\n      return createPortal(children, elmm);\n    };\n    const remove: State['remove'] = (elm) => {\n      elm && unmountComponentAtNode(elm);\n    };\n    return { render: Portal, remove };\n  }, []);\n\n  useEffect(() => {\n    if (container) portal.remove();\n    const newPortal = ReactCreatePortal(container);\n    setPortal(newPortal);\n    return () => {\n      newPortal.remove(container);\n    };\n  }, [container]);\n\n  return { Portal: portal.render, container };\n};\n"
  ],
  "mappings": ";;;;;;;;;AAAA;AACA;AAOO,IAAMA,SAAS,GAAG,SAAZA,SAAS,GAAS;EAC7B,sBAAoBC,cAAK,CAACC,QAAQ,CAAiB,YAAM;MACvD,IAAMC,EAAE,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MACxC,OAAOF,EAAE;IACX,CAAC,CAAC;IAAA;IAHKG,SAAS;EAIhB,gBAA4B,IAAAJ,eAAQ,EAAQ;MAC1CK,MAAM,EAAE;QAAA,OAAM,IAAI;MAAA;MAClBC,MAAM,EAAE;QAAA,OAAM,IAAI;MAAA;IACpB,CAAC,CAAC;IAAA;IAHKC,MAAM;IAAEC,SAAS;EAKxB,IAAMC,iBAAiB,GAAGV,cAAK,CAACW,WAAW,CAAkC,UAACC,IAAI,EAAK;IACrF,IAAMC,MAAuB,GAAG,SAA1BA,MAAuB,OAAqB;MAAA,IAAfC,QAAQ,QAARA,QAAQ;MACzC,IAAI,CAACA,QAAQ,EAAE,OAAO,IAAI;MAC1B,oBAAO,IAAAC,sBAAY,EAACD,QAAQ,EAAEF,IAAI,CAAC;IACrC,CAAC;IACD,IAAML,MAAuB,GAAG,SAA1BA,MAAuB,CAAIS,GAAG,EAAK;MACvCA,GAAG,IAAI,IAAAC,gCAAsB,EAACD,GAAG,CAAC;IACpC,CAAC;IACD,OAAO;MAAEV,MAAM,EAAEO,MAAM;MAAEN,MAAM,EAANA;IAAO,CAAC;EACnC,CAAC,EAAE,EAAE,CAAC;EAEN,IAAAW,gBAAS,EAAC,YAAM;IACd,IAAIb,SAAS,EAAEG,MAAM,CAACD,MAAM,EAAE;IAC9B,IAAMY,SAAS,GAAGT,iBAAiB,CAACL,SAAS,CAAC;IAC9CI,SAAS,CAACU,SAAS,CAAC;IACpB,OAAO,YAAM;MACXA,SAAS,CAACZ,MAAM,CAACF,SAAS,CAAC;IAC7B,CAAC;EACH,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAEf,OAAO;IAAEQ,MAAM,EAAEL,MAAM,CAACF,MAAM;IAAED,SAAS,EAATA;EAAU,CAAC;AAC7C,CAAC;AAAC"
}