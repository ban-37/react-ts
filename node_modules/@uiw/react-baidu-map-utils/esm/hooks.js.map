{
  "version": 3,
  "names": [
    "render",
    "React",
    "Fragment",
    "useEffect",
    "useState",
    "useRef",
    "useLayoutEffect",
    "useEnableProperties",
    "instance",
    "props",
    "propsName",
    "forEach",
    "name",
    "eName",
    "funName",
    "undefined",
    "useVisiable",
    "visiable",
    "state",
    "setState",
    "show",
    "hide",
    "useProperties",
    "charAt",
    "toLowerCase",
    "slice",
    "data",
    "lng",
    "lat",
    "BMap",
    "Point",
    "preData",
    "equals",
    "useEventProperties",
    "eventName",
    "type",
    "eventHandle",
    "replace",
    "addEventListener",
    "removeEventListener",
    "usePrevious",
    "value",
    "ref",
    "current",
    "useRenderDom",
    "container",
    "document",
    "createElement",
    "children"
  ],
  "sources": [
    "../src/hooks.tsx"
  ],
  "sourcesContent": [
    "/// <reference types=\"@uiw/react-baidu-map-types\" />\nimport { render } from 'react-dom';\nimport React, { Fragment, useEffect, useState, useRef, useLayoutEffect } from 'react';\n\n/**\n * 批量创建多个如下 State，监听并设置值，\n * 组件属性更改 <Componet enableDragging={true} >\n * 根据 enableDragging 的 Boolean 值，执行 `enable` 和 `disable` 开头的函数。\n * @example\n * ```js\n * const [enableDragging, setEnableDragging] = useState(props.enableDragging);\n * useEffect(() => {\n *   console.log('~~:enableDragging', enableDragging, props.enableDragging, polyline);\n *   setEnableDragging(props.enableDragging)\n * }, [polyline, enableDragging, props.enableDragging]);\n * ```\n * @param instance\n * @param props\n * @param propsName\n */\nexport function useEnableProperties<T = {}, F = {}>(instance: T, props = {} as F, propsName: string[] = []) {\n  propsName.forEach((name) => {\n    const eName = `enable${name}` as keyof F;\n    const funName = (props[eName] ? `enable${name}` : `disable${name}`) as keyof T;\n    if (instance && props[eName] !== undefined) {\n      instance[funName] && (instance[funName] as any)();\n    }\n  });\n}\n\n/**\n * 针对 Overlay 类型的组件，有公共的是否显示 对象处理\n * 通过参数 `visiable` 来控制执行 `show()` or `hide()`\n */\nexport function useVisiable<T extends BMap.Overlay, F extends { visiable?: boolean }>(instance: T, props = {} as F) {\n  const visiable = (props as any).visiable;\n  const [state, setState] = useState(visiable);\n  useEffect(() => {\n    if (instance && visiable !== undefined) {\n      if (visiable) {\n        instance.show && instance.show();\n      } else {\n        instance.hide && instance.hide();\n      }\n      if (visiable !== state) {\n        setState(visiable);\n      }\n    }\n  }, [instance, state, visiable]);\n}\n\n/**\n * 批量创建多个如下 State，监听并设置值，\n * 执行 `set` 开头的函数。\n * @param instance\n * @param props\n * @param propsName\n */\nexport function useProperties<T, F>(instance: T, props: F, propsName: string[] = []) {\n  propsName.forEach((name) => {\n    const eName = `${name.charAt(0).toLowerCase()}${name.slice(1)}` as keyof F;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const [state, setState] = useState(props[eName]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(() => {\n      if (instance && instance[`set${name}` as keyof T] && props[eName] !== undefined) {\n        /**\n         * 坐标点的参数设置，比对, 坐标点的参数设置\n         */\n        let data: any = props[eName];\n        if (data && data.lng && data.lat) {\n          data = new BMap.Point(data.lng, data.lat);\n          let preData: any = state;\n          if (preData && preData.lng && preData.lat) {\n            preData = new BMap.Point(preData.lng, preData.lat);\n            if (data.equals(preData)) {\n              return;\n            }\n          }\n        }\n\n        (instance[`set${name}` as keyof T] as any)(data);\n        // 属性发生变化缓存\n        if (state !== props[eName]) {\n          if (eName === 'bounds') {\n            if (state && props[eName] && !(state as any).equals(props[eName])) {\n              setState(props[eName]);\n            }\n          } else {\n            setState(props[eName]);\n          }\n        }\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [instance, props[eName]]);\n  });\n}\n\nexport interface EventListener {\n  /**\n   * 添加事件监听函数\n   * @param event\n   * @param handler\n   */\n  addEventListener(event: string, handler: any): void;\n  /**\n   * 移除事件监听函数\n   * @param event\n   * @param handler\n   */\n  removeEventListener(event: string, handler: any): void;\n}\n\nexport type EventNameType = 'CamelCase' | 'PascalCase' | 'LowerCase';\n\n/**\n * 绑定事件\n * @param instance 实例对象\n * @param props 传递进来的 props\n * @param eventName 事件的名字，如，我们使用 `onClick` 事件，最终被转换成，`click` 绑定到实例中，`onDblClick` => `dblclick`\n *\n * @example\n * ```js\n * useEventProperties<BMap.Marker, UseMarker>(marker!, props, [\n *   'Click', 'DblClick', 'MouseDown', 'MouseUp', 'MouseOut', 'MouseOver'\n * ]);\n * ```\n */\nexport function useEventProperties<T extends EventListener, F>(\n  instance: T,\n  props = {} as F,\n  eventName: string[] = [],\n  type?: EventNameType,\n) {\n  eventName.forEach((name) => {\n    const eventName = `on${name}` as keyof F;\n    const eventHandle = props[eventName];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(() => {\n      if (!instance) return;\n      if (eventHandle && name) {\n        let eName = name;\n        if (type === 'CamelCase') {\n          eName = name.replace(name[0], name[0].toLowerCase());\n        } else {\n          eName = name.toLowerCase();\n        }\n        instance.addEventListener(eName, eventHandle);\n        return () => {\n          instance.removeEventListener(eName, eventHandle);\n        };\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [instance, props[eventName]]);\n  });\n}\n\n/**\n * 获取上一轮的 props 或 state\n * How to get the previous props or state?\n * https://reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state\n * @example\n * ```js\n * function Counter() {\n *   const [count, setCount] = useState(0);\n *   const prevCount = usePrevious(count);\n *   return <h1>Now: {count}, before: {prevCount}</h1>;\n * }\n * ```\n */\nexport function usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nexport function useRenderDom(props: { children: React.ReactNode }) {\n  const container = useRef(document.createElement('div'));\n\n  useLayoutEffect(() => {\n    render(<Fragment>{props.children}</Fragment>, container.current);\n  }, [props.children]);\n\n  return { container: container.current };\n}\n"
  ],
  "mappings": "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"
}