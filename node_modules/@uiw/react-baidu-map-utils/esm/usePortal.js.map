{
  "version": 3,
  "names": [
    "React",
    "useState",
    "useEffect",
    "createPortal",
    "unmountComponentAtNode",
    "usePortal",
    "container",
    "el",
    "document",
    "createElement",
    "portal",
    "setPortal",
    "render",
    "remove",
    "ReactCreatePortal",
    "useCallback",
    "elmm",
    "Portal",
    "children",
    "elm",
    "newPortal"
  ],
  "sources": [
    "../src/usePortal.tsx"
  ],
  "sourcesContent": [
    "import React, { useState, useEffect, ReactPortal } from 'react';\nimport { createPortal, unmountComponentAtNode } from 'react-dom';\n\ninterface State {\n  render: (props: { children?: React.ReactNode }) => ReactPortal | null;\n  remove: (elm?: HTMLElement) => void;\n}\n\nexport const usePortal = () => {\n  const [container] = React.useState<HTMLDivElement>(() => {\n    const el = document.createElement('div');\n    return el;\n  });\n  const [portal, setPortal] = useState<State>({\n    render: () => null,\n    remove: () => null,\n  });\n\n  const ReactCreatePortal = React.useCallback<(elmm: HTMLDivElement) => State>((elmm) => {\n    const Portal: State['render'] = ({ children }) => {\n      if (!children) return null;\n      return createPortal(children, elmm);\n    };\n    const remove: State['remove'] = (elm) => {\n      elm && unmountComponentAtNode(elm);\n    };\n    return { render: Portal, remove };\n  }, []);\n\n  useEffect(() => {\n    if (container) portal.remove();\n    const newPortal = ReactCreatePortal(container);\n    setPortal(newPortal);\n    return () => {\n      newPortal.remove(container);\n    };\n  }, [container]);\n\n  return { Portal: portal.render, container };\n};\n"
  ],
  "mappings": "AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAqB,OAAO;AAC/D,SAASC,YAAY,EAAEC,sBAAsB,QAAQ,WAAW;AAOhE,OAAO,IAAMC,SAAS,GAAG,MAAM;EAC7B,IAAM,CAACC,SAAS,CAAC,GAAGN,KAAK,CAACC,QAAQ,CAAiB,MAAM;IACvD,IAAMM,EAAE,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IACxC,OAAOF,EAAE;EACX,CAAC,CAAC;EACF,IAAM,CAACG,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAQ;IAC1CW,MAAM,EAAE,MAAM,IAAI;IAClBC,MAAM,EAAE,MAAM;EAChB,CAAC,CAAC;EAEF,IAAMC,iBAAiB,GAAGd,KAAK,CAACe,WAAW,CAAmCC,IAAI,IAAK;IACrF,IAAMC,MAAuB,GAAG,QAAkB;MAAA,IAAjB;QAAEC;MAAS,CAAC;MAC3C,IAAI,CAACA,QAAQ,EAAE,OAAO,IAAI;MAC1B,oBAAOf,YAAY,CAACe,QAAQ,EAAEF,IAAI,CAAC;IACrC,CAAC;IACD,IAAMH,MAAuB,GAAIM,GAAG,IAAK;MACvCA,GAAG,IAAIf,sBAAsB,CAACe,GAAG,CAAC;IACpC,CAAC;IACD,OAAO;MAAEP,MAAM,EAAEK,MAAM;MAAEJ;IAAO,CAAC;EACnC,CAAC,EAAE,EAAE,CAAC;EAENX,SAAS,CAAC,MAAM;IACd,IAAII,SAAS,EAAEI,MAAM,CAACG,MAAM,EAAE;IAC9B,IAAMO,SAAS,GAAGN,iBAAiB,CAACR,SAAS,CAAC;IAC9CK,SAAS,CAACS,SAAS,CAAC;IACpB,OAAO,MAAM;MACXA,SAAS,CAACP,MAAM,CAACP,SAAS,CAAC;IAC7B,CAAC;EACH,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAEf,OAAO;IAAEW,MAAM,EAAEP,MAAM,CAACE,MAAM;IAAEN;EAAU,CAAC;AAC7C,CAAC"
}